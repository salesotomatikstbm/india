<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>India's 79th Independence Day</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Custom CSS -->
    <style>
        :root {
            --saffron: #FF9933;
            --white: #FFFFFF;
            --green: #138808;
            --blue: #000080;
        }
        
        /* Hero Section */
        .hero-section {
            background: linear-gradient(145deg, var(--saffron) 0%, var(--white) 50%, var(--green) 100%);
            min-height: 100vh;
            position: relative;
            overflow: hidden;
        }
        
        .hero-section::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, transparent 70%);
            animation: rotate 15s linear infinite;
            z-index: 0;
        }
        
        .hero-content {
            position: relative;
            z-index: 1;
        }
        
        /* Button Animation */
        .flag-btn {
            position: relative;
            overflow: hidden;
            background-color: var(--blue);
            border: none;
            animation: pulse 2s infinite;
        }
        
        .flag-btn:hover {
            animation: none;
            transform: translateY(-3px);
        }
        
        .flag-btn::after {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                to bottom right,
                transparent, transparent, transparent,
                rgba(255,255,255,0.3),
                transparent, transparent, transparent
            );
            transform: rotate(30deg);
            animation: shine 3s infinite;
        }
        
        /* Animations */
        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(0, 0, 128, 0.4); }
            70% { box-shadow: 0 0 0 15px rgba(0, 0, 128, 0); }
            100% { box-shadow: 0 0 0 0 rgba(0, 0, 128, 0); }
        }
        
        @keyframes shine {
            0% { left: -50%; }
            20% { left: 100%; }
            100% { left: 100%; }
        }
        
        /* Text Animations */
        .fade-in-down {
            animation: fadeInDown 1s ease-out;
        }
        
        .fade-in-up {
            animation: fadeInUp 1s ease-out 0.3s both;
        }
        
        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Editable Elements */
        .editable {
            cursor: pointer;
            position: relative;
            transition: all 0.3s ease;
        }
        
        .editable:hover {
            outline: 2px dashed var(--saffron);
            outline-offset: 3px;
        }
        
        .editable::after {
            content: "</>";
            position: absolute;
            top: -10px;
            right: -10px;
            background: var(--blue);
            color: white;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 12px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .editable:hover::after {
            opacity: 1;
        }
        
        /* Editor Styles */
        .code-editor {
            font-family: 'Courier New', monospace;
            font-size: 14px;
            min-height: 300px;
            background-color: #1e1e1e;
            color: #d4d4d4;
            white-space: pre;
        }
    </style>
</head>
<body>
    <!-- Hero Section -->
    <section class="hero-section d-flex align-items-center">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8 text-center hero-content">
                    <h1 class="display-3 fw-bold mb-4 text-primary editable fade-in-down" data-type="heading">Celebrate India's 79th Independence Day!</h1>
                    <p class="fs-4 mb-5 text-dark editable fade-in-up" data-type="paragraph">Honoring the sacrifices of our freedom fighters and celebrating our diverse culture and heritage.</p>
                    <button class="btn btn-lg px-4 py-3 rounded-pill flag-btn text-white editable fade-in-up" data-type="button">
                        <i class="fas fa-flag me-2"></i> <span class="editable-text">Explore India's Glory</span>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Editor Modal -->
    <div class="modal fade" id="editorModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content bg-dark">
                <div class="modal-header border-secondary">
                    <h5 class="modal-title text-white">Edit Content</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-0">
                    <ul class="nav nav-tabs border-secondary">
                        <li class="nav-item">
                            <button class="nav-link active" id="html-tab" data-bs-toggle="tab" data-bs-target="#html-content">HTML</button>
                        </li>
                        <li class="nav-item">
                            <button class="nav-link" id="css-tab" data-bs-toggle="tab" data-bs-target="#css-content">CSS</button>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="html-content">
                            <textarea class="form-control code-editor rounded-0 border-0" id="htmlEditor" spellcheck="false"></textarea>
                        </div>
                        <div class="tab-pane fade" id="css-content">
                            <textarea class="form-control code-editor rounded-0 border-0" id="cssEditor" spellcheck="false"></textarea>
                        </div>
                    </div>
                </div>
                <div class="modal-footer border-secondary">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-success" id="saveChanges">Save Changes</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating Toolbar -->
    <div class="position-fixed bottom-0 end-0 m-3 d-flex gap-2">
        <button class="btn btn-primary rounded-circle p-3" id="helpBtn" data-bs-toggle="tooltip" title="Help">
            <i class="fas fa-question"></i>
        </button>
        <button class="btn btn-primary rounded-circle p-3" id="editBtn" data-bs-toggle="tooltip" title="Toggle Edit Mode">
            <i class="fas fa-edit"></i>
        </button>
    </div>

    <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
     document.addEventListener('DOMContentLoaded', function() {
    // Initialize Bootstrap components
    const editorModal = new bootstrap.Modal('#editorModal');
    const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
    const tooltips = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl);
    });
    
    // DOM Elements
    const htmlEditor = document.getElementById('htmlEditor');
    const cssEditor = document.getElementById('cssEditor');
    const saveBtn = document.getElementById('saveChanges');
    const editBtn = document.getElementById('editBtn');
    const helpBtn = document.getElementById('helpBtn');
    
    // Variables
    let currentElement = null;
    let currentType = '';
    let editMode = true;
    
    // Initialize editable elements
    function initEditables() {
        document.querySelectorAll('.editable').forEach(element => {
            element.addEventListener('click', handleEditableClick);
        });
    }
    
    // Handle editable element click
    function handleEditableClick(e) {
        if (!editMode) return;
        e.stopPropagation();
        
        currentElement = this;
        currentType = this.getAttribute('data-type');
        updateEditorContent();
        editorModal.show();
    }
    
    // Format HTML for display
    function formatHTML(element) {
        const temp = document.createElement('div');
        temp.appendChild(element.cloneNode(true));
        return temp.innerHTML
            .replace(/></g, '>\n<')
            .replace(/class="/g, '\n  class="')
            .replace(/"\s*>/g, '"\n  >');
    }
    
    // Get relevant CSS rules
    function getRelevantCSS() {
        const selectors = ['.hero-section', '.flag-btn', '.hero-content', '.editable'];
        return Array.from(document.styleSheets)
            .flatMap(sheet => {
                try {
                    return Array.from(sheet.cssRules)
                        .filter(rule => rule.selectorText && 
                            selectors.some(selector => rule.selectorText.includes(selector)))
                        .map(rule => rule.cssText);
                } catch(e) { return []; }
            })
            .join('\n\n');
    }
    
    // Update editor content
    function updateEditorContent() {
        if (!currentElement) return;
        
        if (currentType === 'heading' || currentType === 'paragraph') {
            const tag = currentElement.tagName.toLowerCase();
            const classes = currentElement.className.replace('editable', '').replace('fade-in-down', '').replace('fade-in-up', '').trim();
            const content = currentElement.textContent;
            
            htmlEditor.value = `<${tag} class="${classes}">\n  ${content}\n</${tag}>`;
        } 
        else if (currentType === 'button') {
            const buttonHTML = currentElement.outerHTML;
            const buttonContent = currentElement.innerHTML;
            
            // Create a clean version for editing
            const cleanHTML = buttonHTML
                .replace(/<i[^>]*>.*?<\/i>/, '<i class="fas fa-flag me-2"></i>')
                .replace(/<span[^>]*>.*?<\/span>/, '<span class="editable-text">' + currentElement.querySelector('.editable-text').textContent + '</span>');
            
            htmlEditor.value = formatHTML(new DOMParser().parseFromString(cleanHTML, 'text/html').body.firstChild);
        }
        
        cssEditor.value = getRelevantCSS();
    }
    
    // Save changes from editor
    function saveChanges() {
        if (!currentElement) return;
        
        try {
            if (currentType === 'heading' || currentType === 'paragraph') {
                const parser = new DOMParser();
                const doc = parser.parseFromString(htmlEditor.value, 'text/html');
                const newElement = doc.body.firstChild;
                
                if (newElement) {
                    // Preserve original classes and editable attributes
                    const originalClasses = currentElement.className.split(' ').filter(c => 
                        c === 'editable' || c === 'fade-in-down' || c === 'fade-in-up'
                    ).join(' ');
                    
                    // Get new classes from edited HTML
                    const newClasses = newElement.className.split(' ').filter(c => 
                        c !== 'editable' && c !== 'fade-in-down' && c !== 'fade-in-up'
                    ).join(' ');
                    
                    // Update the element
                    currentElement.className = `${originalClasses} ${newClasses}`.trim();
                    currentElement.textContent = newElement.textContent;
                }
            }
            else if (currentType === 'button') {
                const parser = new DOMParser();
                const doc = parser.parseFromString(htmlEditor.value, 'text/html');
                const newButton = doc.body.firstChild;
                
                if (newButton) {
                    // Preserve original classes and editable attributes
                    const originalClasses = currentElement.className.split(' ').filter(c => 
                        c === 'editable' || c === 'fade-in-up' || c === 'flag-btn'
                    ).join(' ');
                    
                    // Get new classes from edited HTML
                    const newClasses = newButton.className.split(' ').filter(c => 
                        c !== 'editable' && c !== 'fade-in-up' && c !== 'flag-btn'
                    ).join(' ');
                    
                    // Update button properties
                    currentElement.className = `${originalClasses} ${newClasses}`.trim();
                    
                    // Update button content
                    const newIcon = newButton.querySelector('i');
                    const newText = newButton.querySelector('.editable-text');
                    
                    if (newIcon) {
                        const currentIcon = currentElement.querySelector('i');
                        if (currentIcon) {
                            currentIcon.className = newIcon.className;
                        }
                    }
                    
                    if (newText) {
                        const currentText = currentElement.querySelector('.editable-text');
                        if (currentText) {
                            currentText.textContent = newText.textContent;
                        }
                    }
                }
            }
        } catch (e) {
            console.error("Error saving changes:", e);
        }
        
        editorModal.hide();
    }
    
    // Toggle edit mode
    function toggleEditMode() {
        editMode = !editMode;
        editBtn.innerHTML = editMode ? '<i class="fas fa-check"></i>' : '<i class="fas fa-edit"></i>';
        document.body.style.outline = editMode ? '2px dashed rgba(0,0,128,0.2)' : 'none';
    }
    
    // Event Listeners
    saveBtn.addEventListener('click', saveChanges);
    editBtn.addEventListener('click', toggleEditMode);
    helpBtn.addEventListener('click', () => {
        alert('Click on any text or button to edit it. Toggle edit mode to prevent accidental edits.');
    });
    
    // Initialize
    initEditables();
});
    </script>
</body>
</html>